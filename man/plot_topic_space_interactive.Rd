% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_topic_space_interactive.R
\name{plot_topic_space_interactive}
\alias{plot_topic_space_interactive}
\title{Interactive 2D Topic Map with Plotly}
\usage{
plot_topic_space_interactive(
  doc_coordinates,
  text = NULL,
  x_col = "dim_1",
  y_col = "dim_2",
  cluster_col = "cluster",
  topic_labels = NULL,
  show_ids = TRUE
)
}
\arguments{
\item{doc_coordinates}{A data frame produced by the topic modelling pipeline.
Must contain columns \code{doc_id}, \code{x_col}, \code{y_col}, and
\code{cluster_col}. Typically the output of \code{identify_topics_coord()}.}

\item{text}{Optional character vector with the original document texts or
summaries. Used for hover tooltips. Must be the same length as
\code{nrow(doc_coordinates)}.}

\item{x_col}{Name of the column in \code{doc_coordinates} representing the
x-axis coordinate (default: \code{"dim_1"}).}

\item{y_col}{Name of the column in \code{doc_coordinates} representing the
y-axis coordinate (default: \code{"dim_2"}).}

\item{cluster_col}{Name of the column containing topic cluster assignments
(default: \code{"cluster"}).}

\item{topic_labels}{Optional topic descriptions. May be either:
\itemize{
\item a data frame with columns \code{cluster} (or \code{topic}) and
\code{label} (or \code{Label}), or
\item a named character vector, where names correspond to topic IDs.
}
These labels will appear in the legend, in tooltips, and on centroid
labels.}

\item{show_ids}{Logical. If \code{TRUE} (default), labels take the form
\code{"Topic k: Label"}. If \code{FALSE}, only the label description is
shown.}

\item{wrap_width}{Integer. Number of characters per line when wrapping tooltip
text (default: \code{80}). Passed to \code{stringr::str_wrap()}.}

\item{max_chars}{Integer or \code{NULL}. Maximum number of characters of the
original text to include in hover tooltips (default: \code{400}). Longer
texts are truncated with \code{"..."}. Set to \code{NULL} to disable
truncation.}
}
\value{
A Plotly object containing an interactive scatterplot:
\itemize{
\item each point = a document,
\item colour = topic label,
\item hover = readable wrapped text or coordinates,
\item centroid labels = topic names or numbers.
}
}
\description{
\code{plot_topic_space_interactive()} creates an interactive 2D scatterplot of
topic embeddings (typically UMAP-reduced coordinates) with Plotly. Each point
represents a document, coloured by its assigned topic. Labels for topics are
added at the centroid of each cluster, and optional hover text can display the
full document text in a readable wrapped format.
}
\details{
The function supports:
\itemize{
\item custom topic labels (LLM-generated or manual),
\item wrapped, multi-line hover text for documents,
\item truncated text to keep tooltips readable,
\item centroid-based topic labels directly on the plot.
}
}
\examples{
\dontrun{
p <- plot_topic_space_interactive(
  doc_coordinates = topic_coords,
  text            = documents$text,
  topic_labels    = topic_labels_df,
  wrap_width      = 60,
  max_chars       = 300
)
p
}

}
